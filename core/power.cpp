// a^8
// a^(2^3)
// a^(2^k), where k == 3

// n = 2^k1 + 2^k2 + .. + 2^ks
// 8  = 2^3
// 9  = 2^3 + 2^0
// 10 = 2^3 + 2^1
// 11 = 2^3 + 2^1 + 2^0

// a^(b+c) = (a^b)(a^c)


// 8 = 1000b
// 8 = 1*(2^3) + 0*(2^2) + 0*(2^1) + 0*(2^0)

// 9 = 1001b
// 9 = 1*(2^3) + 0*(2^2) + 0*(2^1) + 1*(2^0)

double Power(double a, int n) {
    double result = 1;
    double aInPowerOf2 = a; // pow
    while (n > 0) {
        if (n & 1 == 1) result *= aInPowerOf2;
        // result = result * a^(2^0)
        aInPowerOf2 *= aInPowerOf2;
        // pow = a * a = a^(2^1)
        // pow =       = 2^()
        n = n >> 1;
    }
    return result;
}


// a^n
// a^8
// 0 = 0000b
// 1 = 0001b
// 2 = 0010b
// 3 = 0011b
// 4 = 0100b
// 5 = 0101b
// 6 = 0110b
// 7 = 0111b
// 8 = 1000b
// 9 = 1001b
a^(1*(2^3) + 0*(2^2) + 0*(2^1) + 0*(2^0))
a^(1*2^3)* a^(0*(2^2)) * a^(0*(2^1)) * a^(0*(2^0))

n = 8 // 1000b
result=1;pow=a
n & 1 -> 1000b & 0001b

1001b &
0001b
0001b -> 1

1 & 1 -> 1
1 & 0 -> 0
0 & 1 -> 0
0 & 0 -> 0


a^8 =a^(2 + 2 + 2 + 2)= (a^2)*(a^2)*(a^2)*(a^2)


1010 = 1*1000+ 0*100 + 1*10 + 0*1
1010 = 1*(10^3) + 0*(10^2) + 1*(10^1) + 0*(10^0)